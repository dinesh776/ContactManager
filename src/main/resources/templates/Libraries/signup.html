<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <title>Smart Contact Manager</title>
</head>
<body>
  <section>
    <div class="box-container">
      <div class="box">
        <form th:action="@{/do_register}" method="post" th:object="${user}">
          <h1 class="h3 mb-3 fw-normal">Register</h1>
          <p style="color: gray">Enter your email below to create your account</p>
          <div th:if="${message}"  th:classappend="${message.type}" class="alert" role="alert" style="border: none;background-color: transparent;padding: 0;filter: brightness(500%)">
            <p th:text="${message.content}"></p>
          </div>
          <div class="form-floating">
            <input type="text" th:field="*{userName}" th:classappend="${#fields.hasErrors('userName') ? 'is-invalid' : ''}" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput" style="background-color: transparent">User Name</label>
            <div th:if="${#fields.hasErrors('userName')}" th:errors="*{userName}" class="invalid-feedback"></div>
          </div>

          <div class="form-floating">
            <input type="text" th:field="*{email}" th:value="${user.getEmail()}" th:classappend="${#fields.hasErrors('email')?'is-invalid':''}" class="form-control" id="floatingEmail" placeholder="email@example.com">
            <label for="floatingEmail">Email</label>
            <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="invalid-feedback"></div>
          </div>

          <div class="form-floating">
            <input type="password" th:field="*{password}" th:value="${user.getPassword()}" th:classappend="${#fields.hasErrors('password')?'is-invalid':''}" class="form-control" id="floatingPassword" placeholder="Password">
            <label for="floatingPassword">Password</label>
            <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="invalid-feedback"></div>
          </div>

          <div class="form-check text-start my-3">
            <input class="form-check-input" type="checkbox" value="agreement" name="agreement" id="flexCheckDefault" required>
            <label class="form-check-label" for="flexCheckDefault">
              Accept terms and conditions
            </label>
          </div>

          <button class="btn btn-primary w-100 py-2" type="submit">Register</button>
        </form>
      </div>
    </div>
  </section>
</body>
</html>